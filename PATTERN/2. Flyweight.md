---
name: Flyweight
connetions: "[[1. Структурные паттерны]]"
description: Экономит оперативную память за счет разделения общего состояния между множеством мелких объектов.
use_key: Генерация миллионов объектов (графика, парсинг), кэширование неизменяемых справочных данных.
anti_use_key: Объектов мало, памяти достаточно (вводит неоправданное усложнение архитектуры).
obsidianUIMode: preview
type: pattern_note
cssclasses:
  - hide-properties_reading
analogy: Ссылочные типы данных платформы 1С. В регистре накопления "Товары на складах" могут быть миллионы записей. Платформа не копирует текстовое наименование, артикул и ставку НДС номенклатуры в каждую строку регистра. Вместо этого в регистре хранится легковесная ссылка (GUID). Внутреннее неизменяемое состояние (реквизиты справочника) физически хранится в одном экземпляре в таблице справочника, а внешнее изменяемое (количество, склад) — в строке регистра.
---
```meta-bind-embed
[[embed_pattern_note]]
```